{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block content %}
<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Problem Writer</th>
	  <th scope="col">Testsolver</th>
      <th scope="col">Staff</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
  {% for u in users %}
    <tr>
	  <th scope="row">{{ u }}</th>
	  <td>
		<div class="form-check">
		  <input class="form-check-input" type="checkbox" name="is_writer" form="form{{ u.id }}" {% if u.is_writer %}checked{% endif %}>
		</div>
	  </td>
	  <td>
		<div class="form-check">
		  <input class="form-check-input" type="checkbox" name="is_solver" form="form{{ u.id }}" {% if u.is_solver %}checked{% endif %}>
		</div>
	  </td>
      <td>
		<div class="form-check">
		  <input class="form-check-input" type="checkbox" name="is_staff" form="form{{ u.id }}" {% if u.is_staff %}checked{% endif %}>
		</div>
	  </td>
	  <td>
		<form method="post" id="form{{ u.id }}">
		  {% csrf_token %}
		  <input type="submit" class="btn btn-primary" name="submit" value="Save">
		  <input type="hidden" name="userid" value="{{ u.id }}">
		</form>
	  </td>
    </tr>
	{% endfor %}
  </tbody>
</table>
{% endblock %}
